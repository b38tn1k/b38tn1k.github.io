<!DOCTYPE html>
<html lang="">

<head>
  <style>
    html,
    body {
      cursor: default;
      height: 100%;
      user-select: none;
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      -khtml-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      outline: none;
      -webkit-tap-highlight-color: rgba(255, 255, 255, 0);
    }

    select {
      border: 1px solid #fff;
      background-color: transparent;
    }

    body {
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 0;
      margin: 0;
      user-select: none;
    }
  </style>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>R Sigma Capabilities</title>
</head>

<body>
  <script src="../p5.min.js"></script>
  <!-- <script src="sketch.js"></script> -->
  <script>let padding=20,upperCase=!0,baseArrowColors=["#accbff","#92bbff","#78aaff","#649eff","#4188ff"],baseTextColor=50,baseCapabilityHighlight=["#ffa07a","#ff7f50","#ff6347"],capabilityHighlightLerp=.4,phaseCounter=0,pCSeperationMult=2,arrowPointPr=.01,arrowWidthPr=.5,arrowHeightPr=.5,cbWidthPr=.4;class Coord{constructor(e,i){this.x=e,this.y=i}}class Section{constructor(e,i=null){this.title=e,!0==upperCase&&(this.title=this.title.toUpperCase()),this.type="capability",null==i&&(this.type="service"),this.hovered=!1,this.geometry=[],this.colors={},this.children=[],this.lerpDir=0}setPosition(e,i,s,r){this.x=e,this.y=i,this.width=s,this.height=r+padding}drawStatics(){noStroke(),rectMode(CENTER),!1==this.hovered&&this.lerpDir>0&&(this.lerpDir-=.04),!0==this.hovered&&this.lerpDir<1&&(this.lerpDir+=.04),fill(lerpColor(this.colors["box-lo"],this.colors["box-hi"],this.lerpDir)),beginShape();for(let e=0;e<this.geometry.length;e++)vertex(this.geometry[e].x,this.geometry[e].y);endShape(),fill(this.colors.text),textAlign(CENTER,CENTER),text(this.title,this.x,this.y)}}let capabilities=[],services=[];function windowResized(){textSize(min(height/12,width/60)),setupCoords()}function setupCoords(){createCanvas(windowWidth,100),textSize(min(height/2,width/50));let e=.5*height,i=width/(services.length+1),s=(.98*width-2*i*arrowWidthPr)/(services.length-1),r=s/2+width*(.020000000000000018/2);for(let t=0;t<services.length;t++)services[t].setPosition(r-2*(width*arrowPointPr),e,i,textSize()),r+=s;for(let o=0;o<services.length;o++)services[o].geometry=[],services[o].geometry.push(new Coord(services[o].x-services[o].width*arrowWidthPr,services[o].y-services[o].height*arrowHeightPr)),services[o].geometry.push(new Coord(services[o].x-services[o].width*arrowWidthPr+width*arrowPointPr,services[o].y)),services[o].geometry.push(new Coord(services[o].x-services[o].width*arrowWidthPr,services[o].y+services[o].height*arrowHeightPr)),services[o].geometry.push(new Coord(services[o].x+services[o].width*arrowWidthPr-width*arrowPointPr,services[o].y+services[o].height*arrowHeightPr)),services[o].geometry.push(new Coord(services[o].x+services[o].width*arrowWidthPr,services[o].y)),services[o].geometry.push(new Coord(services[o].x+services[o].width*arrowWidthPr-width*arrowPointPr,services[o].y-services[o].height*arrowHeightPr)),services[o].geometry.push(new Coord(services[o].x-services[o].width*arrowWidthPr,services[o].y-services[o].height*arrowHeightPr))}function setup(){createCanvas(windowWidth,100),textFont("Georgia"),textSize(min(height/2,width/50)),capabilities.push(new Section("Integration Assesment",["Process & Workflow","Project Specification","System Integration Vetting","Goal Setting & Exit Planning","ROI thresholds","KPI management"])),capabilities.push(new Section("Solution Engineering",["Process Certification","Testing & Simulation","Reliability & Forecasting","Safety Audit","Regulatory & Compliance"])),capabilities.push(new Section("Ownership Transfer",["SOP Generation","Operator Training","IP Development","Integrator Relationships","Reporting & Documentation"]));for(let e=0;e<capabilities.length;e++)capabilities[e].colors.text=color(baseTextColor),capabilities[e].colors["box-lo"]=lerpColor(color(baseCapabilityHighlight[e]),color(255),capabilityHighlightLerp),capabilities[e].colors["box-hi"]=color(baseCapabilityHighlight[e]);services.push(new Section("Assess")),services.push(new Section("Design")),services.push(new Section("Build")),services.push(new Section("Implement")),services.push(new Section("Support")),capabilities[0].children.push(services[0]),capabilities[0].children.push(services[1]),capabilities[1].children.push(services[1]),capabilities[1].children.push(services[2]),capabilities[1].children.push(services[3]),capabilities[2].children.push(services[3]),capabilities[2].children.push(services[4]);for(let i=0;i<services.length;i++)services[i].colors.text=color(baseTextColor),services[i].colors["box-hi"]=color(baseArrowColors[i]),services[i].colors["box-lo"]=lerpColor(color(baseArrowColors[i]),color(255),capabilityHighlightLerp);setupCoords()}function draw(){clear();for(let e=0;e<services.length;e++)services[e].drawStatics(),services[e].hovered=!1;frameCount%60==0&&(phaseCounter+=1),services[phaseCounter%5].hovered=!0}</script>
</body>

</html>