var canvas,colors=["#0f0","#ff0","#0ff","#f0f"];function rcol(){return colors[int(random(colors.length))]}function rcolsub(n){return n[int(random(n.length))]}function coin(){return random(1)>.5}function randint(n){return random(n)}function keyPressed(){"s"==key?saveImage():generate()}function saveImage(){var n=year()+nf(month(),2)+nf(day(),2)+"-"+nf(hour(),2)+nf(minute(),2)+nf(second(),2);save(n+".png")}function generate(){background(0),noStroke(),flower(width/2,height/3)}function flower(n,e){for(var o=int(random(80,400)),r=random(.2,.8),i=0;i<random(5);i++){ellipseMode(CORNER);var t=randint(-30),a=int(random(o/5,o/3)),l=random(.3,.5),d=int(random(e+o/2,height-o));coin()&&(push(),translate(n,d),rotate(radians(t)),fill("#0f0"),ellipse(0,0,a,l*a),fill("#0f7"),ellipse(0,0,a,l*a*r),pop()),coin()&&(t=randint(30)+180,a=a=int(random(o/5,o/3)),d=int(random(e+o/2,height-o)),l=random(.3,.5),push(),translate(n,d),rotate(radians(t)),fill("#0f0"),ellipse(0,0,a,l*a),fill(255,255,255,40),ellipse(0,0,a,l*a*r),pop())}var s=int(random(4,10));fill("#0f0"),rect(n,e,s,height),ellipseMode(CENTER);var c=int(random(4,20)),f=180/c,u=int(random(1,4)),h=[rcol(),rcol(),rcol(),rcol(),rcol()];for(i=180;i>=0;i-=f)fill(rcolsub(h,u)),push(),translate(n,e),rotate(radians(i)),ellipse(0,0,o,o/c),ellipse(0,0,o/c,o),fill(255,255,255,40),ellipse(0,0,o,r*(o/c)),ellipse(0,0,r*(o/c),o),pop();var m=int(random(1.2*o/c,o/2));fill(rcol()),ellipse(n,e,m,m),fill(255,255,255,40);var p,g,v=int(random(5,40));for(i=0;i<v;i++)p=random(n-m/3,n+m/3),g=random(e-m/3,e+m/3),ellipse(p,g,5,5)}function setup(){canvas=createCanvas(window.innerWidth,window.innerHeight),smooth(8),pixelDensity(2),background(0),generate(),noStroke(),console.log("hi")}function mouseClicked(){}function draw(){}function touchStarted(){flower(mouseX,mouseY)}function touchMoved(){return!1}function touchEnded(){}function deviceTurned(){canvas=createCanvas(window.innerWidth,window.innerHeight)}window.onresize=function(){var n=window.innerWidth,e=window.innerHeight;console.log(n," ",e),canvas.size(n,e),width=n,height=e,generate()};
